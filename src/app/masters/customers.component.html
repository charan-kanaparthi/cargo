<style>
 @media only screen and (max-width:800px) {
 .card-responsive-adjust {
 width: 700px;
 }
 }

 @media only screen and (max-width:735px) {
 .card-responsive-adjust {
 width: 635px;
 }
 }
 
 @media only screen and (max-width:670px) {
 .card-responsive-adjust {
 width: 570px;
 }
 }

 @media only screen and (max-width:600px) {
 .card-responsive-adjust {
 width: 500px;
 }
 }

 @media only screen and (max-width:530px) {
 .card-responsive-adjust {
 width: 430px;
 }
 }

 @media only screen and (max-width:460px) {
 .card-responsive-adjust {
 width: 370px;
 }
 }

 @media only screen and (max-width:400px) {
 .card-responsive-adjust {
 width: 355px;
 margin-left: -25px;
 }
 }

 @media only screen and (max-width:320px) {
 .card-responsive-adjust {
 width: 290px;
 /*overflow-x: scroll;*/
 /*margin-left: -25px;*/
 }
 }

 /*scroll*/
 @media only screen and (max-width:800px) {
 .responsive{
 width: 700px;
 overflow-x: scroll;
 }
 }

 @media only screen and (max-width:735px) {
 .responsive{
 width: 635px;
 overflow-x: scroll;
 }
 }
 
 @media only screen and (max-width:670px) {
 .responsive{
 width: 570px;
 overflow-x: scroll;
 }
 }

 @media only screen and (max-width:600px) {
 .responsive{
 width: 500px;
 overflow-x: scroll;
 }
 }

 @media only screen and (max-width:530px) {
 .responsive{
 width: 430px;
 overflow-x: scroll;
 }
 }

 @media only screen and (max-width:460px) {
 .responsive{
 width: 370px;
 overflow-x: scroll;
 }
 }

 @media only screen and (max-width:400px) {
 .responsive{
 width: 355px;
 overflow-x: scroll;
 /*margin-left: -25px;*/
 }
 }

 @media only screen and (max-width:320px) {
 .responsive{
 width: 290px;
 overflow-x: scroll;
 /*margin-left: -25px;*/
 }
 }
 label{
     text-align: left;
 }
</style>
<div *ngIf="isForm">
  <!--Form-->
  <div class="animated fadeIn">
        <div class="card card-responsive-adjust">
            <div class="card-header" style="background-color:#00BFFF; color:white;font-size: 16px; font-weight:bold">Add {{componentName}}<a data-toggle="modal" (click)=" modalTodefault();recieverModal.show()"> <i class="fa fa-plus" aria-hidden="true" style="color:white; float:right"></i></a></div>
            <div class="card-block responsive">
                 <form action="" method="post" class="form-horizontal row" #genericForm="ngForm">
                    <div class="form-group col-md-6 col-sm-8 col-xs-4" *ngFor="let field of fields;let in=index">
                        <div class="row">
                            <label class="col-6 form-control-label"   for="hf-name">{{field.label}}</label>
                            <div class="col-6" *ngIf="field.type==='text'">
                                <input type="{{field.type}}" id="{{field.Id}}"  name="{{field.name}}" class="{{field.className}}" placeholder="" [(ngModel)]="fields[in].value" >
                            </div>
                            <div class="col-6" *ngIf="field.type==='select'">
                                <select  [(ngModel)]="fields[in].value" id="{{field.Id}}" name="{{field.name}}" 
                                class="{{field.className}}" size="1">
                                <option  [ngValue]="opt" *ngFor="let opt of field.options">{{opt}}</option>                
                                </select> 
                               <!--<ng-select   [multiple]="false" [items]="items" (data)="refreshValue($event)" (selected)="selected($event)" (removed)="removed($event)" placeholder="No city selected">                               
                             </ng-select>-->
                            </div>
                            <div class="col-6" *ngIf="field.type==='number'">
                                <input type="{{field.type}}" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" [(ngModel)]="fields[in].value" placeholder="">
                            </div>
                            <div class="col-6" *ngIf="field.type==='date'">
                              <div class="input-group">
                                  <div class="input-group-addon"><i class="fa fa-calendar"></i></div>
                                  <input id="{{field.id}}" name="{{field.name}}" class="{{field.className}}" placeholder="">
                              </div>
                            </div>

                            <div class="col-6" *ngIf="field.type==='radio'">
                               <div class="row" >
                               <div class="col-1">
                               </div>
                                <div  class="radio" *ngFor="let opt of field.options;let idx=index" >
                                    <input type="radio" id="{{field.Id}}" [(ngModel)]="fields[in].value"   name="{{field.name}}" value="{{opt}}"   > {{opt}}                                
                                     &emsp;
                                </div>
                               </div>
                            </div>
                            <div class="col-6" *ngIf="field.type==='checkbox'">
                            <div class="row" >
                              <div class="col-1">
                               </div>
                                <div class="checkbox " *ngFor="let opt of field.options; let inn=index">
                                      <input type="checkbox" [(ngModel)]="checkboxFlag[inn]"  id="checkbox{{inn}}" name="checkbox{{inn}}" value="{{opt}}"> {{opt}}
                                      &emsp;
                                 </div>
                            </div>
                          </div>
                            <div class="col-6" *ngIf="field.type==='hidden'">
                                   <input   type="hidden" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" [(ngModel)]="fields[in].value" placeholder="">                          
                            </div>
                             <div class="col-6" *ngIf="field.type==='file'">
                           
                                <input type="file" name="file" ngModel (change)="getFiles($event)">
                                
                             </div>
                        </div>
                    </div>
                    <br>
                </form>
                <table class="table">
                <thead>
                  <tr>
                    <th>ID Type</th>
                    <th>ID No</th>
                    <th>Name</th>
                    <th>Email ID</th>
                    <th>Mobile Number</th>
                    <th>Landline</th>
                    <th>City</th>
                    <th>Block</th>
                    <th>Commune</th>
                    <th>Address</th>
                    <th>TIN Number</th>
                    <th>Action</th>  
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let row of table_data" >
                    <th scope="row">{{row.idType}}</th>
                    <td>{{row.idNo}}</td>
                    <td>{{row.name}}</td>
                    <td>{{row.emailId}}</td>
                    <td>{{row.mobileNumber}}</td>
                    <td>{{row.landline}}</td>
                    <td>{{row.city}}</td>
                    <td>{{row.block}}</td>
                    <td>{{row.commune}}</td>
                    <td>{{row.address}}</td>    
                    <td>{{row.tinNumber}}</td>
                    <td>
                      <a data-toggle="modal" (click)="onSelectReciever(row,row.receiverNo);recieverEditModal.show()"><i class="fa fa-pencil" aria-hidden="true" style="color:#20a8d8"></i></a>&emsp; <a data-toggle="modal" (click)="deleteRow(row.receiverNo)"><i class="fa fa-trash" aria-hidden="true" style="color:#ff5454;"></i></a>                         
                    </td>
                  </tr>  
                </tbody>
              </table>
                </div>
                <div class="card-footer">
                  <div class="row">
                    <div class="col-3"></div> 
                    <div class="col-4"> 
                      <button type="submit" class="btn btn-primary" (click)="onSubmit(genericForm)"><i class="fa fa-check"></i> Submit</button> 
                    </div>
                    <div class="col-2">
                      <button type="reset" class="btn btn-danger"><i class="fa fa-close"></i> Reset</button>
                    </div>
                    <div class="col-3"></div>

                   
                  </div>
                </div>        
        </div>
    </div>
  <!--Form-->
  <!--Table-->
  <div class="card card-responsive-adjust">
    <div class="card-header" style="background-color: #00BFFF;color: #fff"><b>Manage {{componentName}}</b></div>
      <div class="card-block responsive">
        <!--<div class="container-fluid">-->
      <table id="example" class="" cellspacing="0" width="100%">
          <thead>
                <tr>
                  <td *ngFor="let head of theads">
                    {{head}}
                  </td>
                </tr>
          </thead>
          <tbody>  
              <tr  *ngFor="let item of newData">
              <td *ngFor="let tf of tfields"  > 
                  {{item[tf]}}               
              </td>
              <td *ngIf="item['action']=='show'">
                   <a data-toggle="modal" (click)="viewRecieverDetails(item.Id)"><i class="fa fa-user" aria-hidden="true" style="color:#20a8d8"></i></a>&emsp;
                <a data-toggle="modal" (click)="onSelect(item);editModal.show()"><i class="fa fa-pencil" aria-hidden="true" style="color:#20a8d8"></i></a>&emsp; <a data-toggle="modal" (click)="onSelect(item);deleteModal.show()"><i class="fa fa-trash" aria-hidden="true" style="color:#ff5454;"></i></a>               
             </td> 
              <td *ngIf="item['action']!='show'">             
              </td> 
            </tr>
   
          </tbody>
      </table>
        <!--</div>-->
      </div>
  </div>
  <!--Table-->
  <!--Modal-->

  
<!-- customers modal-->

 <form action="" method="post" class="" #recform="ngForm">  
  <div bsModal #recieverModal="bs-modal"  class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Edit Form</h4>
        <button type="button" class="close" (click)="recieverModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
         <div   class="form-horizontal row">
            <div class="form-group col-md-6 col-sm-8 col-xs-4" *ngFor="let field of receivermodalfields;let in=index">
                <div class="row">
                <label class="col-3 form-control-label"   for="hf-name">{{field.label}}</label>
                <div class="col-9" *ngIf="field.type==='text'">
                    <input type="{{field.type}}" id="{{field.Id}}"  name="{{field.name}}" class="{{field.className}}" placeholder=""  [(ngModel)]="receivermodalfields[in].value"  >
                </div>          
                <div class="col-9" *ngIf="field.type==='number'">
                    <input type="{{field.type}}" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" ngModel placeholder="">
                </div>
                <div class="col-9" *ngIf="field.type==='date'">
                    <input type="{{field.type}}" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" [(ngModel)]="receivermodalfields[in].value" placeholder="">
                </div>

                 <div class="col-8 " *ngIf="field.type==='date range'">
                  <div class="">
                       <my-date-range-picker ngModel name="{{field.name}}" required></my-date-range-picker>
                  </div>
                </div>

                <div class="col-9" *ngIf="field.type==='select'">
                <select  [(ngModel)]="receivermodalfields[in].value" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" size="1">
                <option  [ngValue]="opt" *ngFor="let opt of field.options">{{opt}}</option>                
                </select> 
              </div>
                <div class="col-9" *ngIf="field.type==='radio'">
                    <div class="row" >
                    <div class="col-1">
                    </div>
                    <div  class="radio" *ngFor="let opt of field.options;let idx=index" >
                        <input type="radio" id="{{field.Id}}" [(ngModel)]="receivermodalfields[in].value"   name="{{field.name}}" value="{{opt}}"   > {{opt}}                                
                            &emsp;
                    </div>
                    </div>
                </div>
                <div class="col-9" *ngIf="field.type==='checkbox'">
                <div class="row" >
                    <div class="col-1">
                    </div>
                    <div class="checkbox " *ngFor="let opt of field.options; let inn=index">
                            <input type="checkbox" [(ngModel)]="receivermodalfields[in].value"  id="checkbox{{in}}" name="checkbox{{inn}}" value="{{opt}}"> {{opt}}
                            &emsp;
                        </div>
                </div>
                </div>
                <div class="col-10" *ngIf="field.type==='hidden'">
                    <input type="hidden" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" [(ngModel)]="receivermodalfields[in].value" placeholder="">                          
                </div>
            </div>
            </div>
        </div>   
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="recieverModal.hide()">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="reciverdata(recform);recieverModal.hide();modalTodefault()">Add</button>
      </div>  
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
  </form>

<form action="" method="post" class="" #recEditform="ngForm">  
  <div bsModal #recieverEditModal="bs-modal"  class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Edit Form</h4>
        <button type="button" class="close" (click)="recieverEditModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="form-horizontal row">
            <div class="form-group col-md-6 col-sm-8 col-xs-4" *ngFor="let field of receiverEditModalFields;let in=index">
                <div class="row">
                <label class="col-3 form-control-label"   for="hf-name">{{field.label}}</label>
                <div class="col-9" *ngIf="field.type==='text'">
                    <input type="{{field.type}}" id="{{field.Id}}"  name="{{field.name}}" class="{{field.className}}" placeholder="" [(ngModel)]="receiverEditModalFields[in].value" >
                </div>          
                <div class="col-9" *ngIf="field.type==='number'">
                    <input type="{{field.type}}" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" [(ngModel)]="receiverEditModalFields[in].value" placeholder="">
                </div>
                <div class="col-9" *ngIf="field.type==='date'">
                    <input type="{{field.type}}" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" [(ngModel)]="receiverEditModalFields[in].value" placeholder="">
                </div>
                  <div class="col-8 " *ngIf="field.type==='date range'">
                    <div class="">
                        <my-date-range-picker ngModel name="{{field.name}}" required></my-date-range-picker>
                    </div>
                  </div>
                <div class="col-9" *ngIf="field.type==='select'">
                <select  [(ngModel)]="receiverEditModalFields[in].value" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" size="1">
                <option  [ngValue]="opt" *ngFor="let opt of field.options">{{opt}}</option>                
                </select> 
              </div>
                <div class="col-9" *ngIf="field.type==='radio'">
                    <div class="row" >
                    <div class="col-1">
                    </div>
                    <div  class="radio" *ngFor="let opt of field.options;let idx=index" >
                        <input type="radio" id="{{field.Id}}" [(ngModel)]="fields[in].value"   name="{{field.name}}" value="{{opt}}"   > {{opt}}                                
                            &emsp;
                    </div>
                    </div>
                </div>
                <div class="col-9" *ngIf="field.type==='checkbox'">
                <div class="row" >
                    <div class="col-1">
                    </div>
                    <div class="checkbox " *ngFor="let opt of field.options; let inn=index">
                            <input type="checkbox" [(ngModel)]="checkboxFlag[inn]" id="checkbox{{in}}" name="checkbox{{inn}}" value="{{opt}}"> {{opt}}
                            &emsp;
                        </div>
                </div>
                </div>
                <div class="col-10" *ngIf="field.type==='hidden'">
                    <input type="hidden" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" [(ngModel)]="receiverEditModalFields[in].value"  placeholder="">                          
                </div>
            </div>
            </div>
        </div>   
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="recieverEditModal.hide()">cancel</button>
        <button type="button" class="btn btn-primary" (click)="editRow(recEditform);recieverEditModal.hide()">update</button>
      </div>  
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
  </form>

  <form action="" method="post" class="" #upform="ngForm"   >  
  <div bsModal #editModal="bs-modal"  class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Modal title</h4>
        <button type="button" class="close" (click)="editModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
         <div   class="form-horizontal row"  >
            <div class="form-group col-6" *ngFor="let field of modalfields;let in=index">
             <div class="row">
                            <label class="col-4 form-control-label"   for="hf-name">{{field.label}}</label>
                            <div class="col-6" *ngIf="field.type==='text'">
                                <input type="{{field.type}}" id="{{field.Id}}"  name="{{field.name}}" class="{{field.className}}" placeholder="" [(ngModel)]="modalfields[in].value" >
                            </div>
                            <div class="col-6" *ngIf="field.type==='select'">
                                <select  [(ngModel)]="fields[in].value" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" size="1">
                                <option  [ngValue]="opt" *ngFor="let opt of field.options">{{opt}}</option>                
                                </select> 
                               <!--<ng-select   [multiple]="false" [items]="items" (data)="refreshValue($event)" (selected)="selected($event)" (removed)="removed($event)" placeholder="No city selected">                               
                             </ng-select>-->
                            </div>
                            <div class="col-6" *ngIf="field.type==='number'">
                                <input type="{{field.type}}" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" [(ngModel)]="modalfields[in].value" placeholder="">
                            </div>
                            <div class="col-6" *ngIf="field.type==='date'">
                              <div class="input-group">
                                  <div class="input-group-addon"><i class="fa fa-calendar"></i></div>
                                  <input id="{{field.id}}" name="{{field.name}}" class="{{field.className}}" placeholder="">
                              </div>
                            </div>

                            <div class="col-6" *ngIf="field.type==='radio'">
                               <div class="row" >
                               <div class="col-1">
                               </div>
                                <div  class="radio" *ngFor="let opt of field.options;let idx=index" >
                                    <input type="radio" id="{{field.Id}}" [(ngModel)]="modalfields[in].value"   name="{{field.name}}" value="{{opt}}"   > {{opt}}                                
                                     &emsp;
                                </div>
                               </div>
                            </div>
                            <div class="col-6" *ngIf="field.type==='checkbox'">
                            <div class="row" >
                              <div class="col-1">
                               </div>
                                <div class="checkbox " *ngFor="let opt of field.options; let inn=index">
                                      <input type="checkbox" ngModel id="checkbox{{in}}" name="checkbox{{inn}}" value="{{opt}}"> {{opt}}
                                      &emsp;
                                 </div>
                            </div>
                            </div>
                            <div class="col-6" *ngIf="field.type==='hidden'">
                                   <input   type="hidden" id="{{field.Id}}" name="{{field.name}}" class="{{field.className}}" [(ngModel)]="modalfields[in].value" placeholder="">                          
                            </div>
                             <div class="col-6" *ngIf="field.type==='file'">        
                                <input type="file" name="file" ngModel (change)="getFiles($event)">
                                
                             </div>
                   </div>
            </div>
        </div>   
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="editModal.hide()">Close</button>
        <button type="button" class="btn btn-primary" (click)="onUpdate(upform)">Save changes</button>
      </div>  
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
  </form>
  <form action="" method="post" class="form-horizontal row" #deleteform="ngForm">
  <div bsModal #deleteModal="bs-modal"  class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Modal title</h4>
        <button type="button" class="close" (click)="deleteModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <h4>   Please confirm to delete</h4>
        <div class="row" *ngFor="let field of deletemodalfields;let in=index">
          <label class="col-4 form-control-label"   for="hf-name">{{field.label}}</label>
                  <div class="col-6" *ngIf="field.type==='hidden'">
                      <input type="{{field.type}}" id="{{field.Id}}"  name="{{field.name}}" class="{{field.className}}" placeholder="" [(ngModel)]="deletemodalfields[in].value" >
                  </div>
        </div>          
       </div>
        <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="editModal.hide()">cancel</button>
        <button type="button" class="btn btn-primary" (click)="onUpdate(deleteform)">confirm</button>
      </div>  
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
 </form>
</div>
<router-outlet></router-outlet>
